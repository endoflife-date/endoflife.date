# HACKING

endoflife.date uses [Jekyll](https://jekyllrb.com/), the static website generator.

## Development

Clone the project:

```
$ git clone git@github.com:endoflife-date/endoflife.date.git
```

Install dependencies (_Note: You must use Bundler 2 or greater_):

```bash
$ cd endoflife.date
$ bundle install
```

Run the site locally:

```bash
$ bundle exec jekyll serve
```

Browse to http://localhost:4000 and you should see the site running locally. If you find any errors at this stage, check [Jekyll's troubleshooting page](https://jekyllrb.com/docs/troubleshooting/#configuration-problems) or [ask a question in the Q&A category](https://github.com/endoflife-date/endoflife.date/discussions/new/) on GitHub Discussions.

## Directory structure

- The layout for the products page is in `_layouts/post.html`
- Product data is in the `products` directory.
- Automation scripts that fetch latest releases are in the `_auto` directory.

## Automation

Automation is currently focused towards fetching the latest releases for a given release cycle. Scripts for this are in the `_auto` directory, and run using `Rakefile`.

All scripts should have fallback data in some form.

### GKE

The GKE data is fetched at build-time via GKE APIs by calling `rake gke`.

## API

The API is just a bunch of static files generated by `_plugins/create-json-files.rb` in the `api` directory. The API is not stable, because the key names or release names are not consistent.

## Contributing

If you just want to add a new product, please see [`CONTRIBUTING.md`](https://github.com/endoflife-date/endoflife.date/blob/master/CONTRIBUTING.md). Else:

- Fork the project
- Create your feature branch (git checkout -b my-new-feature)
- Commit your changes (git commit -am 'Add some feature')
- Push to the branch (git push origin my-new-feature)
- Create new Pull Request
